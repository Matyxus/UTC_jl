# UTC_jl
<div id="top"></div>

<!-- PROJECT LOGO -->
<br />
<div align="center">
  <h3 align="center">Urban Traffic Control (julia)</h3>

  <p align="center">
  Semestral project of <a href="https://juliateachingctu.github.io/Scientific-Programming-in-Julia/dev/">SPJ</a>
  </p>
</div>

<!-- TABLE OF CONTENTS -->
<details>
  <summary>Table of Contents</summary>
  <ol>
    <li>
      <a href="#about-the-project">About The Project</a>
    </li>
    <li>
      <a href="#getting-started">Getting Started</a>
      <ul>
        <li><a href="#packages">Packages</a></li>
        <li><a href="#installation">Installation</a></li>
      </ul>
    </li>
   <li>
      <a href="#algorithms">Algorithm</a>
    </li>
    <li>
      <a href="#usage">Usage</a>
      <ul>
        <li><a href="#description">Description</a></li>
        <li><a href="#example">Examples</a></li>
        <li><a href="#visualization">Visualization</a></li>
      </ul>
    </li>
  </ol>
</details>


<!-- ABOUT THE PROJECT -->
## About The Project
This project is a semestral task for Julia language subject. The project contains the initial implementation of working with simulator SUMO networks and clustering algorithm to find "problematic" (highly congested) sub-regions inside the network. It functions as trial for comparing the python implementation (it is based off), its speed and functionality vs that of Julia's.

<p align="right">(<a href="#top">back to top</a>)</p>

<!-- GETTING STARTED -->
## Getting Started
The inteded use of this project is mostly for demonstration purposes, however the algorithms and implementation of them is made more general, however the road networks must be obtained either from the official SUMO [site](https://eclipse.dev/sumo/) and the needed statistical files generated by it.

### Packages

1) [BenchmarkTools](https://github.com/djsegal/julia_packages)
2) [XML](https://github.com/djsegal/julia_packages)
3) [Plots](https://docs.juliaplots.org/latest/) 
4) [CUDA](https://github.com/djsegal/julia_packages)
4) [Random](https://github.com/djsegal/julia_packages)

### Installation

<p align="right">(<a href="#top">back to top</a>)</p>

Use [Pkg](https://docs.julialang.org/en/v1/stdlib/Pkg/) to install project from GitHub, or download the project and activate the enviroment inside root, then it can be used similary (Do not forget to install the required libraries or use "Pkg.initiaite()").
```julia
(env) pkg> add https://github.com/Matyxus/UTC_jl
```
** Note: If we wish to run clustering with multiple threads, start the
julia interpreter with the option: "--threads=NUM".

<!-- Scenario -->
## Algorithm
<p align="right">(<a href="#top">back to top</a>)</p>
The main feature of this work is the "gravitational" clustering algorithm. The goal of this algorithm, is to cluster points (in 2D space) given their positions, weights and radius (minimal distance between points) for merging. The implementation can be split into two pars:

1) Calculation of movements: in this part, attraction between points is computed, it is done as each point against all others. The formula used is: "attraction = weights / distances (squared)". It has greate potential to be parallelized and/or computed quickly on GPU.

2) Clustering: The initial algorithm (based on the python implementation) perform while loop on the matrix of points and for each point computs the destination against all others. All points that have distance lesser than that of radius are considered as being "absorbed" by the current point. The current point (or one of the others, depending on the maximal weight) becomes the cluster leader and is moved to the center of gravity of all of these points.

<!-- USAGE EXAMPLES -->
## Usage
### Description
### Example
### Visualization
There are multiple visualization methods provided for this work, 
first one being the plotting of networks in the SUMO format:


Second one for visualization of congestion indexes (extracted by SUMO in statistical files):


Finally the visualization of clustering (which can be shown as points, or as clusters):

<p align="right">(<a href="#top">back to top</a>)</p>
